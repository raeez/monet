#!/bin/bash

if [ `whoami` != root ]; then
	echo Please run this script as root, or using sudo
	exit
fi

# clean current env, if any
rm -rf styx-dev

echo ""
echo "**********************************"
echo "* Setting up styx-dev environment *"
echo "**********************************"
echo ""

#mongodb snapshot sources
echo "deb http://downloads.mongodb.org/distros/ubuntu 10.4 10gen" > /etc/apt/sources.list
apt-key adv --keyserver keyserver.ubuntu.com --recv 7F0CEB10
apt-get update
apt-get upgrade

# system and python dependencies
apt-get -y install git \
					mongodb \
					python-virtualenv \
					python-setuptools \

# styx env
easy_install virtualenv
virtualenv styx-dev
. styx/bin/activate

# python dependencies
easy_install Flask \
				flup \
				sphinx \
				pymongo \
				ipython \

echo ""
echo "***************"
echo "* styx::Done! *"
echo "***************"
echo ""
